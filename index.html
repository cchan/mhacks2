<html ng-app="TeachmeApp">
	<head>
		<title>TeachMe</title>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
		<script src="https://cdn.firebase.com/js/client/2.2.4/firebase.js"></script>
		<script src="https://cdn.firebase.com/libs/angularfire/1.1.2/angularfire.min.js"></script>
		
		<script>
			var app = angular.module("TeachmeApp",["firebase"]);
			app.controller("TeachmeCtrl",function($scope,$firebaseAuth){
				var ref = new Firebase("https://teachmemhacks.firebaseio.com/");
				var auth = $firebaseAuth(ref);
				$scope.registerConf = false;
				$scope.authData = null;
				$scope.login = function(){
					if($scope.authData !== null){
						auth.$authWithPassword($scope.user).then(function(authData){
							console.log("authData:",authData);
						},function(authError){
							console.log("authError:",authError);
						});
					}
				};
				$scope.register = function(){
					if($scope.authData === null){
						if(!$scope.registerConf)$scope.registerConf = true;
						else auth.$createUser($scope.user).then(
							function(authData){
								console.log("authData:",authData);
							},
							function(authError){
								console.log("authError:",authError);
							}
						);
					}
				};
			});
		</script>
	</head>
	<body ng-controller="TeachmeCtrl">
		
		<div>
			<input type="email" ng-model="user.email" placeholder="Email"><br>
			<input type="password" ng-model="user.password" placeholder="Password"><br>
			<input type="password" ng-model="confpass" placeholder="Confirm Password" ng-show="registerConf" class="ng-hide"><br>
			<button ng-click="login()">Log in</button><button ng-click="register()">Register</button><br>
		</div>
	</body>
</html>

